<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>EduRock - Generate Test</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    }
  </style>
</head>
<body class="bg-gray-900 text-white min-h-screen p-4">
  <div class="max-w-3xl mx-auto">
    <h1 class="text-3xl text-green-400 font-bold text-center mb-6">Generate Your Test</h1>

    <div class="mb-6">
      <label for="numQuestions" class="block mb-2 text-lg">Select number of questions:</label>
      <select id="numQuestions" class="w-full p-2 rounded text-black">
        <option value="5">5</option>
        <option value="10">10</option>
        <option value="15">15</option>
        <option value="20">20</option>
      </select>
      <button onclick="generateTest()" class="mt-4 w-full bg-green-500 hover:bg-green-600 text-white p-2 rounded">Generate Test</button>
    </div>

    <div id="testArea" class="space-y-6"></div>
    <div class="text-center mt-8">
      <button onclick="submitTest()" class="bg-blue-500 hover:bg-blue-600 text-white px-6 py-2 rounded-full text-lg">Submit Answers</button>
    </div>

    <div id="resultArea" class="mt-10 text-center text-xl font-semibold text-green-400"></div>
  </div>

  <script>
    const dummySummaries = [
      "Photosynthesis is the process by which plants use sunlight, water, and CO2 to create energy in the form of glucose.",
      "Newton's laws describe motion: 1) inertia, 2) F=ma, 3) equal and opposite reactions.",
      "The water cycle includes evaporation, condensation, precipitation, and collection.",
      "DNA is a double helix structure containing genes that code for proteins."
    ];

    let questions = [];

    function generateTest() {
      const num = parseInt(document.getElementById('numQuestions').value);
      questions = [];
      document.getElementById('testArea').innerHTML = '';
      for (let i = 0; i < num; i++) {
        const summary = dummySummaries[i % dummySummaries.length];
        const question = `What is the main idea of this summary: "${summary}"?`;
        const correct = summary.split(' ')[0];
        const options = shuffleArray([
          correct,
          "Random",
          "Incorrect",
          "Misleading"
        ]);
        questions.push({ question, options, correct });

        document.getElementById('testArea').innerHTML += `
          <div>
            <p class="mb-2 font-bold">${i + 1}. ${question}</p>
            ${options.map(opt => `
              <label class="block">
                <input type="radio" name="q${i}" value="${opt}" class="mr-2">
                ${opt}
              </label>`).join('')}
          </div>
        `;
      }
    }

    function submitTest() {
      let score = 0;
      questions.forEach((q, i) => {
        const selected = document.querySelector(`input[name=q${i}]:checked`);
        if (selected && selected.value === q.correct) score++;
      });
      document.getElementById('resultArea').textContent = `You scored ${score} out of ${questions.length}`;
    }

    function shuffleArray(arr) {
      return arr.sort(() => Math.random() - 0.5);
    }
  </script>
</body>
</html>
